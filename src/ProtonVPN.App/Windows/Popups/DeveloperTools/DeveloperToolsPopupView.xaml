<!--
Copyright (c) 2022 Proton Technologies AG

This file is part of ProtonVPN.

ProtonVPN is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

ProtonVPN is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with ProtonVPN.  If not, see <https://www.gnu.org/licenses/>.
-->

<resource:BasePopupWindow x:Class="ProtonVPN.Windows.Popups.DeveloperTools.DeveloperToolsPopupView"
                          xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                          xmlns:fa="http://schemas.fontawesome.io/icons/"
                          xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                          xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                          xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                          xmlns:local="clr-namespace:ProtonVPN.Windows.Popups.DeveloperTools"
                          xmlns:resource="clr-namespace:ProtonVPN.Resource;assembly=ProtonVPN.Resource"
                          xmlns:wpf="clr-namespace:ProtonVPN.Core.Wpf"
                          Style="{StaticResource BasePopupWindowStyle}"
                          SizeToContent="Height"
                          Title="Developer Tools"
                          Height="Auto"
                          Width="700"
                          mc:Ignorable="d" 
                          d:DataContext="{d:DesignInstance Type=local:DeveloperToolsPopupViewModel, IsDesignTimeCreatable=False}">

    <resource:BasePopupWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary>
                    <Style x:Key="FontAwesomeIcon" TargetType="fa:ImageAwesome">
                        <Setter Property="Foreground" Value="{StaticResource OldPrimaryBrushColor}"/>
                        <Setter Property="Width" Value="32"/>
                    </Style>
                </ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </resource:BasePopupWindow.Resources>

    <Grid Background="{StaticResource OldModalBrushColor}">
        <StackPanel>
            <ScrollViewer Template="{StaticResource DarkScrollViewerControlTemplate}" Height="500" PanningMode="VerticalOnly">
                <StackPanel Margin="20">
                    <StackPanel Margin="0,0,0,20" Orientation="Horizontal" HorizontalAlignment="Left">
                        <fa:ImageAwesome HorizontalAlignment="Left" Icon="Exchange">
                            <fa:ImageAwesome.Style>
                                <Style TargetType="fa:ImageAwesome" BasedOn="{StaticResource FontAwesomeIcon}">
                                    <Setter Property="Foreground" Value="{StaticResource OldRedBrushColor}"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsConnected}" Value="True">
                                            <Setter Property="Foreground" Value="{StaticResource OldPrimaryBrushColor}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </fa:ImageAwesome.Style>
                        </fa:ImageAwesome>
                        <StackPanel Margin="20,0,30,0" Orientation="Vertical" HorizontalAlignment="Left">
                            <TextBlock Padding="0,0,0,0" FontSize="12" Text="{Binding NetworkInformation}">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="{StaticResource OldRedBrushColor}"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsConnected}" Value="True">
                                                <Setter Property="Foreground" Value="{StaticResource OldPrimaryBrushColor}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </StackPanel>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,20" Orientation="Horizontal" HorizontalAlignment="Left">
                        <fa:ImageAwesome HorizontalAlignment="Left" 
                                         Margin="0,5,0,0" 
                                         VerticalAlignment="Top" 
                                         Style="{StaticResource FontAwesomeIcon}" 
                                         Icon="WindowMaximize"  />
                        <StackPanel Margin="20,0,30,0" Orientation="Vertical" HorizontalAlignment="Left">
                            <Label Padding="0,0,0,0" FontSize="16" Content="Show modal window" Foreground="{StaticResource OldTextBrushColor}"/>
                            <Label Padding="0,0,0,0" FontSize="12" Content="Opens a modal window" Foreground="{StaticResource OldSecondaryTextBrushColor}"/>
                        </StackPanel>
                        <StackPanel Orientation="Vertical" HorizontalAlignment="Left">
                            <wpf:Combobox HorizontalAlignment="Left"
                                          Style="{StaticResource ComboDropdown}"
                                          ItemsSource="{Binding ModalsByName.Keys}"
                                          SelectedValue="{Binding SelectedModalName}">
                            </wpf:Combobox>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,10,0,0">
                                <Button HorizontalAlignment="Left"
                                        Height="30"
                                        Style="{StaticResource PrimaryModalButton}"
                                        Command="{Binding OpenModalCommand}"
                                        Content="Open Modal"/>
                                <Button HorizontalAlignment="Left"
                                        Margin="10,0,0,0"
                                        Height="30"
                                        Style="{StaticResource PrimaryModalButton}"
                                        Command="{Binding OpenAllModalsCommand}"
                                        Content="Open All Modals"/>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                    
                    <StackPanel Margin="0,0,0,20" Orientation="Horizontal" HorizontalAlignment="Left">
                        <fa:ImageAwesome HorizontalAlignment="Left" 
                                         Margin="0,5,0,0" 
                                         VerticalAlignment="Top" 
                                         Style="{StaticResource FontAwesomeIcon}" 
                                         Icon="WindowMaximize"  />
                        <StackPanel Margin="20,0,30,0" Orientation="Vertical" HorizontalAlignment="Left">
                            <Label Padding="0,0,0,0" FontSize="16" Content="Show popup window" Foreground="{StaticResource OldTextBrushColor}"/>
                            <Label Padding="0,0,0,0" FontSize="12" Content="Opens a popup window" Foreground="{StaticResource OldSecondaryTextBrushColor}"/>
                        </StackPanel>
                        <StackPanel Orientation="Vertical" HorizontalAlignment="Left">
                            <wpf:Combobox HorizontalAlignment="Left"
                                          Style="{StaticResource ComboDropdown}"
                                          ItemsSource="{Binding PopupWindowsByName.Keys}"
                                          SelectedValue="{Binding SelectedPopupWindowName}">
                            </wpf:Combobox>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,10,0,0">
                                <Button HorizontalAlignment="Left"
                                        Height="30"
                                        Style="{StaticResource PrimaryModalButton}"
                                        Command="{Binding OpenPopupWindowCommand}"
                                        Content="Open Popup"/>
                                <Button HorizontalAlignment="Left"
                                        Margin="10,0,0,0"
                                        Height="30"
                                        Style="{StaticResource PrimaryModalButton}"
                                        Command="{Binding OpenAllPopupWindowsCommand}"
                                        Content="Open All Popups"/>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,20" Orientation="Horizontal" HorizontalAlignment="Left">
                        <fa:ImageAwesome HorizontalAlignment="Left" Style="{StaticResource FontAwesomeIcon}" Icon="IdCard" />
                        <StackPanel Margin="20,0,30,0" Orientation="Vertical" HorizontalAlignment="Left">
                            <Label Padding="0,0,0,0" FontSize="16" Content="Refresh user data" Foreground="{StaticResource OldTextBrushColor}"/>
                            <Label Padding="0,0,0,0" FontSize="12" Content="Manually triggers a /vpn API request" Foreground="{StaticResource OldSecondaryTextBrushColor}"/>
                        </StackPanel>
                        <Button HorizontalAlignment="Left"
                                Style="{StaticResource PrimaryModalButton}"
                                Command="{Binding RefreshVpnInfoCommand}"
                                Content="Refresh"/>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,20" Orientation="Horizontal" HorizontalAlignment="Left">
                        <fa:ImageAwesome HorizontalAlignment="Left" Style="{StaticResource FontAwesomeIcon}" Icon="Wrench" />
                        <StackPanel Margin="20,0,30,0" Orientation="Vertical" HorizontalAlignment="Left">
                            <Label Padding="0,0,0,0" FontSize="16" Content="Check if server is online" Foreground="{StaticResource OldTextBrushColor}"/>
                            <Label Padding="0,0,0,0" FontSize="12" Content="Manually triggers a /servers/{id} API request" Foreground="{StaticResource OldSecondaryTextBrushColor}"/>
                        </StackPanel>
                        <Button HorizontalAlignment="Left"
                                Style="{StaticResource PrimaryModalButton}"
                                Command="{Binding CheckIfCurrentServerIsOnlineCommand}"
                                Content="Check"/>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,20" Orientation="Horizontal" HorizontalAlignment="Left">
                        <fa:ImageAwesome HorizontalAlignment="Left" Style="{StaticResource FontAwesomeIcon}" Icon="Comment"  />
                        <StackPanel Margin="20,0,30,0" Orientation="Vertical" HorizontalAlignment="Left">
                            <Label Padding="0,0,0,0" FontSize="16" Content="Show reconnection tooltip" Foreground="{StaticResource OldTextBrushColor}"/>
                            <Label Padding="0,0,0,0" FontSize="12" Content="Manually triggers a reconnection tooltip" Foreground="{StaticResource OldSecondaryTextBrushColor}"/>
                        </StackPanel>
                        <Button HorizontalAlignment="Left"
                                Style="{StaticResource PrimaryModalButton}"
                                Command="{Binding ShowReconnectionTooltipCommand}"
                                Content="Show"/>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,20" Orientation="Horizontal" HorizontalAlignment="Left">
                        <fa:ImageAwesome HorizontalAlignment="Left" Style="{StaticResource FontAwesomeIcon}" Icon="Bug" />
                        <StackPanel Margin="20,0,30,0" Orientation="Vertical" HorizontalAlignment="Left">
                            <Label Padding="0,0,0,0" FontSize="16" Content="Intentional app crash" Foreground="{StaticResource OldTextBrushColor}"/>
                            <Label Padding="0,0,0,0" FontSize="12" Content="Manually triggers app crash and sends event to sentry" Foreground="{StaticResource OldSecondaryTextBrushColor}"/>
                        </StackPanel>
                        <Button HorizontalAlignment="Left"
                                Style="{StaticResource PrimaryModalButton}"
                                Command="{Binding TriggerIntentionalCrashCommand}"
                                Content="Trigger"/>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,20" Orientation="Horizontal" HorizontalAlignment="Left">
                        <fa:ImageAwesome HorizontalAlignment="Left" Style="{StaticResource FontAwesomeIcon}" Icon="CheckSquare" />
                        <StackPanel Margin="20,0,30,0" Orientation="Vertical" HorizontalAlignment="Left">
                            <Label Padding="0,0,0,0" FontSize="16" Content="Reset «Do not show again»" Foreground="{StaticResource OldTextBrushColor}"/>
                            <Label Padding="0,0,0,0" FontSize="12" Content="Sets the «Do not show again» in dialogs back to default" Foreground="{StaticResource OldSecondaryTextBrushColor}"/>
                        </StackPanel>
                        <Button HorizontalAlignment="Left"
                                Style="{StaticResource PrimaryModalButton}"
                                Command="{Binding ResetDoNotShowAgainCommand}"
                                Content="Reset"/>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,20" Orientation="Horizontal" HorizontalAlignment="Left">
                        <fa:ImageAwesome HorizontalAlignment="Left" Style="{StaticResource FontAwesomeIcon}" Icon="Lock" />
                        <StackPanel Margin="20,0,30,0" Orientation="Vertical" HorizontalAlignment="Left">
                            <Label Padding="0,0,0,0" FontSize="16" Content="Disable TLS pinning" Foreground="{StaticResource OldTextBrushColor}"/>
                            <Label Padding="0,0,0,0" FontSize="12" Content="Writes current app config to ProtonVPN.config file with TLS pinning disabled" Foreground="{StaticResource OldSecondaryTextBrushColor}"/>
                            <Label Padding="0,0,0,0" FontSize="12" Content="(App has to be launched as admin before)" Foreground="{StaticResource OldSecondaryTextBrushColor}"/>
                        </StackPanel>
                        <Button HorizontalAlignment="Left"
                                Style="{StaticResource PrimaryModalButton}"
                                Command="{Binding DisableTlsPinningCommand}"
                                Content="Disable"/>
                    </StackPanel>

                    <StackPanel Margin="0,0,0,20" Orientation="Vertical" HorizontalAlignment="Left">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                            <fa:ImageAwesome HorizontalAlignment="Left" Style="{StaticResource FontAwesomeIcon}" Icon="Bell"  />
                            <StackPanel Margin="20,0,30,0" Orientation="Vertical" HorizontalAlignment="Left">
                                <Label Padding="0,0,0,0" FontSize="16" Content="Pop toast" Foreground="{StaticResource OldTextBrushColor}"/>
                                <Label Padding="0,0,0,0" FontSize="12" Content="Trigger a native Windows 10 notification" Foreground="{StaticResource OldSecondaryTextBrushColor}"/>
                            </StackPanel>
                            <Button HorizontalAlignment="Left"
                                    Style="{StaticResource PrimaryModalButton}"
                                    Command="{Binding FullToastCommand}"
                                    Content="Full"/>
                            <Button HorizontalAlignment="Left"
                                    Style="{StaticResource PrimaryModalButton}"
                                    Command="{Binding BasicToastCommand}"
                                    Content="Basic"/>
                            <Button HorizontalAlignment="Left"
                                    Style="{StaticResource PrimaryModalButton}"
                                    Command="{Binding ClearToastNotificationLogsCommand}"
                                    Content="Clear logs"/>
                        </StackPanel>
                        <ScrollViewer Background="{StaticResource OldTableHeaderBackgroundColor}" Margin="0,20,0,0" Padding="10" CanContentScroll="True" VerticalScrollBarVisibility="Visible" Height="200">
                            <TextBlock FontSize="12" Foreground="{StaticResource OldPrimaryBrushColor}" 
                                       Text="{Binding ToastNotificationLog}" />
                        </ScrollViewer>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </StackPanel>
    </Grid>
</resource:BasePopupWindow>

